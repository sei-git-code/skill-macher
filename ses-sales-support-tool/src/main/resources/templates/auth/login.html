<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ログイン - SES営業支援ツール</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <!-- Custom CSS -->
    <link href="/css/style.css" rel="stylesheet" />
  </head>
  <body class="bg-light">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-xl-4 col-lg-5 col-md-6">
          <div class="card o-hidden border-0 shadow-lg my-5">
            <div class="card-body p-0">
              <!-- Nested Row within Card Body -->
              <div class="row">
                <div class="col-lg-12">
                  <div class="p-5">
                    <div class="text-center">
                      <h1 class="h4 text-gray-900 mb-4">
                        <i class="bi bi-people-fill me-2"></i>SES営業支援ツール
                      </h1>
                      <p class="text-muted">
                        ログインしてシステムにアクセスしてください
                      </p>
                    </div>

                    <!-- Error Message -->
                    <div
                      th:if="${error}"
                      class="alert alert-danger"
                      role="alert"
                    >
                      <i class="bi bi-exclamation-triangle me-2"></i>
                      <span th:text="${error}">ログインエラー</span>
                    </div>

                    <!-- Success Message -->
                    <div
                      th:if="${logout}"
                      class="alert alert-success"
                      role="alert"
                    >
                      <i class="bi bi-check-circle me-2"></i>
                      ログアウトが完了しました。
                    </div>

                    <!-- Login Form -->
                    <form class="user" th:action="@{/auth/login}" method="post">
                      <div class="form-group mb-3">
                        <div class="input-group">
                          <span class="input-group-text">
                            <i class="bi bi-person"></i>
                          </span>
                          <input
                            type="text"
                            class="form-control form-control-user"
                            name="username"
                            placeholder="ユーザー名"
                            required
                          />
                        </div>
                      </div>

                      <div class="form-group mb-3">
                        <div class="input-group">
                          <span class="input-group-text">
                            <i class="bi bi-lock"></i>
                          </span>
                          <input
                            type="password"
                            class="form-control form-control-user"
                            name="password"
                            placeholder="パスワード"
                            required
                          />
                        </div>
                      </div>

                      <div class="form-group mb-3">
                        <div class="custom-control custom-checkbox small">
                          <input
                            type="checkbox"
                            class="custom-control-input"
                            id="customCheck"
                            name="remember-me"
                          />
                          <label class="custom-control-label" for="customCheck">
                            ログイン状態を保持
                          </label>
                        </div>
                      </div>

                      <button
                        type="submit"
                        class="btn btn-primary btn-user btn-block w-100"
                      >
                        <i class="bi bi-box-arrow-in-right me-2"></i>ログイン
                      </button>
                    </form>

                    <hr />

                    <div class="text-center">
                      <a class="small" href="/auth/forgot-password">
                        <i class="bi bi-question-circle me-1"></i
                        >パスワードを忘れた場合
                      </a>
                    </div>

                    <div class="text-center mt-3">
                      <small class="text-muted">
                        Supabase認証を使用してログインしてください
                      </small>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Supabase Auth Script -->
    <script>
      // Supabase認証の実装は後で追加
      console.log("Supabase認証の実装が必要です");
    </script>
  </body>
</html>
